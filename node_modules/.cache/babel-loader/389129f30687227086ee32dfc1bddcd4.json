{"ast":null,"code":"import _slicedToArray from \"/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/src/components/StockCard.js\";\nimport React from 'react';\nimport { Form, Modal, Button, Collapse } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { buyStock } from '../actions/stockActions';\nimport LineChart from '../components/LineChart';\nimport { NotificationContainer, NotificationManager } from 'react-notifications'; // import MyNotification from './MyNotification';\n// import posed from 'react-pose'\n// import Popover from './Popup';\n// const COM_API = `https://api-v2.intrinio.com/companies/${props.eachStock.ticker}&api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx`\n\nfunction StockCard(props) {\n  const createNotification = (type, e) => {\n    return () => {\n      // console.log('hey')\n      switch (type) {\n        case 'info':\n          NotificationManager.info('Info message');\n          break;\n\n        case 'Bought':\n          NotificationManager.success(\"You Bought \".concat(e.target.quantiy.value, \" Stocks\"), 'Notification', 3000);\n          break;\n\n        case 'warning':\n          NotificationManager.warning('Warning message', 'Close after 3000ms', 3000);\n          break;\n\n        case 'error':\n          NotificationManager.error('Error message', 'Click me!', 5000, () => {\n            alert('callback');\n          });\n          break;\n      }\n    };\n  };\n\n  const buyAndNotify = (e, eachStock, balance) => {\n    props.buyStock(e, eachStock, balance);\n    createNotification('Bought', e);\n  };\n\n  let obj = props.chartPrice;\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        open = _React$useState2[0],\n        setOpen = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 4),\n        show = _React$useState4[0],\n        setShow = _React$useState4[1],\n        showPop = _React$useState4[2],\n        setShowPop = _React$useState4[3];\n\n  const handleClose = () => {\n    setShow(false);\n  };\n\n  const handleShowPop = () => setShowPop(true);\n\n  const handleShow = () => {\n    fetch(\"https://api-v2.intrinio.com/companies/\".concat(props.eachStock.security.ticker, \"?api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx\")).then(res => res.json()).then(data => //  getCompany(data)\n    props.getCompany(data));\n    fetch(\"https://api-v2.intrinio.com/securities/\".concat(props.eachStock.security.ticker, \"/prices?api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx\")).then(res => res.json()).then(data => props.getPrice(data.stock_prices));\n    setShow(true);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, props.eachStock.security['ticker'], \"  \"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    class: \"fas fa-dollar-sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), \" \", props.eachStock['close']), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    class: \"form-inline\",\n    onSubmit: e => buyAndNotify(e, props.eachStock, {\n      \"remaining_balance\": props.remaining_balance,\n      \"invested_balance\": props.invested_balance\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    name: \"quantity\",\n    type: \"number\",\n    step: \"1\",\n    style: {\n      width: '5.5rem'\n    },\n    min: \"1\",\n    required: \"required\",\n    placeholder: \"Stocks\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), \" \\xA0\\xA0\", React.createElement(Button, {\n    \"data-toggle\": \"button\",\n    type: \"submit\",\n    style: {\n      margin: '3px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    class: \"fas fa-shopping-cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), \"\\xA0\\xA0Buy\"))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    class: \"fas fa-info-circle fa-lg offset-md-4\",\n    onClick: handleShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), \"\\xA0\\xA0\"), React.createElement(Modal, {\n    class: \"modal fade right border-bottom\",\n    \"data-backdrop\": \"static\",\n    focus: \"true\",\n    role: \"dialog\",\n    show: show,\n    onHide: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    style: {\n      border: \"doubled\"\n    },\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \" Info About \", props.eachStock.ticker, \" \")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \" Ticker:\"), \" \\xA0\", props.info.ticker, \" \"), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \" \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \" Company Name:\"), \" \\xA0\", props.info.name), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \" CEO:\"), \" \\xA0\", props.info.ceo, \" \"), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \" State: \"), \" \\xA0\", props.info.hq_state, \" \"), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \" Country:\"), \" \\xA0\", props.info.hq_country, \" \"), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \" Price:\"), \" \\xA0\", props.eachStock.close), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \" High Price:\"), \"  \\xA0\", props.eachStock.high), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \" Low Price:\"), \" \\xA0\", props.eachStock.low), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \" Volume:\"), \"  \\xA0\", props.eachStock.volume), React.createElement(\"div\", {\n    class: \"card \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"card-header chart border-bottom\",\n    style: {\n      fontSize: \"1.4rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Quaterly Summary\"), React.createElement(\"div\", {\n    class: \"card-body text-center\",\n    style: {\n      fontColor: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(LineChart, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }))))));\n}\n\nconst mapStateToProps = state => {\n  return state.stock;\n};\n\nconst getCompany = data => dispatch => {\n  dispatch({\n    type: 'GET_COM_INFO',\n    data: data\n  });\n};\n\nconst getPrice = data => dispatch => [dispatch({\n  type: 'GET_CHART_PRICE',\n  data: data\n})];\n\nexport default connect(mapStateToProps, {\n  buyStock,\n  getCompany,\n  getPrice\n})(StockCard);","map":{"version":3,"sources":["/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/src/components/StockCard.js"],"names":["React","Form","Modal","Button","Collapse","connect","buyStock","LineChart","NotificationContainer","NotificationManager","StockCard","props","createNotification","type","e","info","success","target","quantiy","value","warning","error","alert","buyAndNotify","eachStock","balance","obj","chartPrice","useState","open","setOpen","show","setShow","showPop","setShowPop","handleClose","handleShowPop","handleShow","fetch","security","ticker","then","res","json","data","getCompany","getPrice","stock_prices","remaining_balance","invested_balance","width","margin","border","name","ceo","hq_state","hq_country","close","high","low","volume","fontSize","fontColor","mapStateToProps","state","stock","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Modal ,Button, Collapse } from 'react-bootstrap';\nimport {connect} from 'react-redux';\nimport {buyStock} from '../actions/stockActions';\nimport LineChart from '../components/LineChart'\nimport {NotificationContainer, NotificationManager} from 'react-notifications';\n// import MyNotification from './MyNotification';\n\n// import posed from 'react-pose'\n// import Popover from './Popup';\n// const COM_API = `https://api-v2.intrinio.com/companies/${props.eachStock.ticker}&api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx`\nfunction StockCard(props) {\n\n\n  const createNotification = (type,e) => {\n    return () => {\n      // console.log('hey')\n      switch (type) {\n        case 'info':\n          NotificationManager.info('Info message');\n          break;\n        case 'Bought':\n          NotificationManager.success(`You Bought ${e.target.quantiy.value} Stocks`,'Notification',3000);\n          break;\n        case 'warning':\n          NotificationManager.warning('Warning message', 'Close after 3000ms', 3000);\n          break;\n        case 'error':\n          NotificationManager.error('Error message', 'Click me!', 5000, () => {\n            alert('callback');\n          });\n          break;\n      }\n    };\n  };\n\n\n  const buyAndNotify=(e,eachStock, balance)=>{\n    props.buyStock(e,eachStock,balance)\n     createNotification('Bought',e)\n  }\n\n  let obj= props.chartPrice\n\n  const [open, setOpen] = React.useState(false);\n  const [show, setShow, showPop, setShowPop] = React.useState(false);\n\n  const handleClose = () => {setShow(false)};\n  const handleShowPop =()=> setShowPop(true);\n  const handleShow = ()=> {\n    fetch(`https://api-v2.intrinio.com/companies/${props.eachStock.security.ticker}?api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx`)\n    .then(res=> res.json())\n    .then(data => \n    //  getCompany(data)\n      props.getCompany(data)\n    )\n\n    fetch(`https://api-v2.intrinio.com/securities/${props.eachStock.security.ticker}/prices?api_key=OjFlMjFhNTEzNGI1MWY1MzNiZGRjNjgyNjNjNjFiZmEx`)\n    .then(res => res.json())\n    .then(data => \n      props.getPrice(data.stock_prices))\n    setShow(true)\n  };\n\n  return (\n    <>\n\n            <td>{props.eachStock.security['ticker']}  </td> \n            <td> <i class=\"fas fa-dollar-sign\"></i> {props.eachStock['close']}</td>\n            <td>\n              <form class=\"form-inline\" onSubmit={(e)=>buyAndNotify(e,props.eachStock,{\"remaining_balance\":props.remaining_balance,\"invested_balance\":props.invested_balance})}>\n            \n                <Form.Control name=\"quantity\" type=\"number\" step=\"1\" style={{width:'5.5rem'}} min='1' required=\"required\"\n                placeholder=\"Stocks\"/> &nbsp;&nbsp;\n            \n                <Button  data-toggle=\"button\" type=\"submit\" style={{margin: '3px'}}> <i class=\"fas fa-shopping-cart\"></i>&nbsp;&nbsp;Buy</Button>\n                </form>\n            </td>\n\n            <td> <i class=\"fas fa-info-circle fa-lg offset-md-4\"  onClick={handleShow}></i>&nbsp;&nbsp;</td>\n\n           {/* <MyNotification /> */}\n            {/* <td>\n            <Button \n              onClick={() => setOpen(!open)}\n              aria-controls=\"example-collapse-text\"\n              aria-expanded={open}\n              // data-toggle=\"collapse\"\n              // data-target=\"#example-collapse-text\"\n            > <i class=\"fas fa-chevron-circle-down\"></i> </Button>\n            </td>\n         */}\n             \n          \n            {/* <td> */}\n               {/* <button class=\"btn btn-primary\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseExample\" aria-expanded=\"false\" aria-controls=\"collapseExample\"> Detail</button>&nbsp;  */}\n            {/* <i class=\"fas fa-info-circle float-left fa-lg offset-md-4\"  onClick={handleShow}></i></td> */}\n            {/* onClick={handleShowPop} */}\n            {/* <div class=\"collapse\" id=\"collapseExample\">\n              <div class=\"card card-body\">\n                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\n              </div>\n            </div> */}\n\n            \n      <Modal class=\"modal fade right border-bottom\" data-backdrop=\"static\" focus='true' role=\"dialog\" show={show} onHide={handleClose}>\n        <Modal.Header style={{border: \"doubled\"}} closeButton>\n          <Modal.Title > Info About {props.eachStock.ticker} </Modal.Title>\n        </Modal.Header>\n        <Modal.Body >\n          {/* <img style={{width:\"40%\", height:\"20%\"}}src=\"https://static.seekingalpha.com/uploads/2016/4/7/17225882-14600640903610125_origin.png\"/> */}\n      {/* {console.log(\"info:\", props.info)} */}\n\n          <h5><strong> Ticker:</strong> &nbsp;{props.info.ticker} </h5> \n          <h5> <strong> Company Name:</strong> &nbsp;{props.info.name}</h5>\n          <h5><strong> CEO:</strong> &nbsp;{props.info.ceo} </h5>\n          <h5><strong> State: </strong> &nbsp;{props.info.hq_state} </h5>\n          <h5><strong> Country:</strong> &nbsp;{props.info.hq_country} </h5>\n          <h5><strong> Price:</strong> &nbsp;{props.eachStock.close}</h5>\n          <h5><strong> High Price:</strong>  &nbsp;{props.eachStock.high}</h5>\n          <h5><strong> Low Price:</strong> &nbsp;{props.eachStock.low}</h5>\n          <h5><strong> Volume:</strong>  &nbsp;{props.eachStock.volume}</h5>\n\n          {/* <h5><strong> Description:</strong> &nbsp; {props.info.short_description}</h5> */}\n  \n  \n           <div class=\"card \">\n            <div class=\"card-header chart border-bottom\" style={{fontSize:\"1.4rem\"}}>\n              Quaterly Summary\n            </div>\n            <div class=\"card-body text-center\" style={{fontColor: 'white'}}>\n             <LineChart/>\n            </div>\n         </div>\n\n\n        </Modal.Body>\n      </Modal>\n\n      {/* <Collapse in={open}>\n                <div id=\"example-collapse-text \">\n                  <div className=\"card\">\n            <div className=\"card-header\" style={{fontSize:\"1rem\"}}>\n              Quaterly Summary\n            </div>\n            <div className=\"card-body text-center\">\n             <LineChart/>\n            </div>\n         </div> \n                </div>\n      </Collapse> */}\n</>\n  )\n}\n\n\nconst mapStateToProps =(state)=>{\n  return state.stock\n}\n\nconst getCompany=(data)=> dispatch=>{\n  dispatch({type:'GET_COM_INFO', data: data})\n}\n\nconst getPrice=(data)=> dispatch=>[\n  dispatch({type:'GET_CHART_PRICE', data: data})\n]\n\nexport default connect(mapStateToProps,{buyStock, getCompany, getPrice})(StockCard);\n"]},"metadata":{},"sourceType":"module"}