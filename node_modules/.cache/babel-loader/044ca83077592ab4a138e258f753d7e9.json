{"ast":null,"code":"import _objectSpread from \"/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/src/containers/Profile.js\";\nimport React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom'; // import { mapStateToProps } from '../components/PortfolioCard';\n\nimport { connect } from 'react-redux'; // let user = '';\n\nexport class Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        editUser: _objectSpread({}, this.state.editUser, {\n          [e.target.name]: e.target.value // [e.target.name]: e.target.value\n\n        })\n      });\n    };\n\n    this.updateProfile = e => {\n      e.preventDefault();\n      let newUser = {\n        firstname: e.target.firstname.value,\n        lastname: e.target.lastname.value,\n        password: e.target.password.value,\n        email: e.target.email.value,\n        username: e.target.username.value\n      };\n      fetch(\"https://investiversity-backend.herokuapp.com//users/\".concat(localStorage.getItem('uid')), {\n        method: 'PATCH',\n        body: JSON.stringify({\n          user: newUser\n        }),\n        headers: {\n          'Access-Token': localStorage.getItem('token'),\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n        this.setState({\n          editUser: data\n        });\n      });\n    };\n\n    this.state = {\n      editUser: {}\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://investiversity-backend.herokuapp.com//users/\".concat(localStorage.uid)).then(res => res.json()).then(data => {\n      this.setState({\n        editUser: data.user\n      });\n      console.log(this.state);\n    });\n  }\n\n  render() {\n    // console.log(\"Profile: \", this.props.user.firstname)\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      class: \"text-center text-white\",\n      style: {\n        \"margin-top\": \"1%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"  Welcome \", this.state.editUser.firstname, \" !\"), React.createElement(\"div\", {\n      className: \" card container col-md-5 shadow\",\n      style: {\n        \"margin-top\": \"2%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-header shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \" \", React.createElement(\"i\", {\n      class: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), \"\\xA0 Profile\"), React.createElement(\"div\", {\n      className: \"card-body text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \" Firstname: \\xA0 \\xA0 \", this.state.editUser.firstname, \" \"), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Lastname: \\xA0 \\xA0 \", this.state.editUser.lastname, \" \"), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \" username: \\xA0 \\xA0 \", this.state.editUser.username), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" Email: \\xA0 \\xA0 \", this.state.editUser.email, \" \"))), React.createElement(\"div\", {\n      class: \"container col-md-5\",\n      style: {\n        \"margin-top\": \"2%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.updateProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"First Name:\"), React.createElement(Form.Control, {\n      onChange: e => this.handleChange,\n      name: \"firstname\",\n      placeholder: \"Firstname\",\n      defaultValue: this.state.editUser.firstname,\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Last Name:\"), React.createElement(Form.Control, {\n      onChange: e => this.handleChange // onChange={this.handleChange}\n      ,\n      name: \"lastname\",\n      placeholder: \"Lastname\",\n      defaultValue: this.state.editUser.lastname,\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(Form.Control, {\n      // onChange={this.handleChange}\n      onChange: e => this.handleChange,\n      name: \"username\",\n      placeholder: \"username\",\n      defaultValue: this.state.editUser.username,\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(Form.Control, {\n      onChange: e => this.handleChange // onChange={this.handleChange}\n      ,\n      name: \"password\",\n      placeholder: \"password\",\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      onChange: e => this.handleChange // onChange={this.handleChange}\n      ,\n      name: \"email\",\n      placeholder: \"Email\",\n      defaultValue: this.state.editUser.email,\n      className: \"shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Update Profile\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.stock.user\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Profile));","map":{"version":3,"sources":["/Users/Krunal/flatiron_school/module-5-folder/investiversity-frontend/src/containers/Profile.js"],"names":["React","Component","Form","Button","withRouter","connect","Profile","constructor","props","handleChange","e","setState","editUser","state","target","name","value","updateProfile","preventDefault","newUser","firstname","lastname","password","email","username","fetch","localStorage","getItem","method","body","JSON","stringify","user","headers","then","res","json","data","console","log","componentDidMount","uid","render","mapStateToProps","stock"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {  Form, Button } from 'react-bootstrap';\nimport { withRouter } from 'react-router-dom'\n// import { mapStateToProps } from '../components/PortfolioCard';\nimport { connect } from 'react-redux';\n\n// let user = '';\n \nexport class Profile extends Component {\n\n\n\n\n  constructor(props){\n    super(props)\n    this.state = {\n      editUser: {\n\n      }\n    }\n  }\n\n\ncomponentDidMount(){\n  fetch(`https://investiversity-backend.herokuapp.com//users/${localStorage.uid}`)\n  .then(res => res.json())\n  .then(data => \n      {this.setState({editUser: data.user})\n      console.log(this.state)\n      }\n    )}\n\n  handleChange = (e) => {\n    this.setState({\n      editUser: {...this.state.editUser, [e.target.name]: e.target.value}\n      // [e.target.name]: e.target.value\n    })\n  }\n\n   \n  updateProfile=(e)=>{\n      e.preventDefault()\n      let newUser = {\n        firstname: e.target.firstname.value,\n        lastname: e.target.lastname.value,\n        password: e.target.password.value,\n        email: e.target.email.value,\n        username: e.target.username.value\n      }\n\n      fetch(`https://investiversity-backend.herokuapp.com//users/${localStorage.getItem('uid')}`, { \n        method: 'PATCH', \n        body: JSON.stringify({user: newUser}),\n        headers: {\n          'Access-Token': localStorage.getItem('token'),\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json())\n      .then(data => {console.log(data) \n      this.setState({ editUser: data }) \n    \n    }\n      )\n  }\n\n\n  render() {\n    // console.log(\"Profile: \", this.props.user.firstname)\n    return (\n      <div>\n     \n      <h3 class=\"text-center text-white\" style={{\"margin-top\":\"1%\"}}>  Welcome {this.state.editUser.firstname} !</h3>\n      <div className=\" card container col-md-5 shadow\" style={{\"margin-top\":\"2%\"}}>\n            <h5 className=\"card-header shadow\"> <i class=\"fas fa-user\"></i>&nbsp; Profile</h5>\n            <div className=\"card-body text-left\">\n             <p className=\"card-text\"> Firstname: &nbsp; &nbsp; {this.state.editUser.firstname} </p>\n             <p className=\"card-text\"> Lastname: &nbsp; &nbsp; {this.state.editUser.lastname} </p>\n             <p className=\"card-text\"> username: &nbsp; &nbsp; {this.state.editUser.username}</p>\n             <p className=\"card-text\"> Email: &nbsp; &nbsp; {this.state.editUser.email} </p>\n            \n           </div>\n         </div>\n\n\n        <div class=\"container col-md-5\" style={{\"margin-top\":\"2%\"}}>\n          <Form onSubmit={this.updateProfile} >\n\n                  <Form.Label>First Name:</Form.Label>\n                  <Form.Control \n                  onChange={(e) => this.handleChange}\n                    name=\"firstname\"\n                    placeholder='Firstname'\n                    defaultValue={this.state.editUser.firstname}\n                    className=\"shadow\"\n                    />\n                    \n                  <Form.Label>Last Name:</Form.Label> \n\n                  <Form.Control\n                   onChange={(e) => this.handleChange}\n                  // onChange={this.handleChange}\n                    name=\"lastname\"\n                    placeholder='Lastname'\n                    defaultValue={this.state.editUser.lastname}\n                    className=\"shadow\" />\n\n                  <Form.Label>Username:</Form.Label>\n                  <Form.Control\n                  // onChange={this.handleChange}\n                  onChange={(e) => this.handleChange}\n                    name=\"username\"\n                    placeholder=\"username\" \n                    defaultValue={this.state.editUser.username} \n                    className=\"shadow\"/>\n\n                  <Form.Label>Password:</Form.Label>\n                  <Form.Control\n                  onChange={(e) => this.handleChange}\n                  // onChange={this.handleChange}\n                    name=\"password\"\n                    placeholder=\"password\" \n                    className=\"shadow\"/>\n\n                  <Form.Label>Email</Form.Label>\n                  <Form.Control\n                  onChange={(e) => this.handleChange}\n                  // onChange={this.handleChange}\n                    name=\"email\"\n                    placeholder=\"Email\" \n                    defaultValue={this.state.editUser.email}\n                    className=\"shadow\"\n                    /> <br/>\n\n\n                <Button variant=\"primary\" type=\"submit\" >\n                  Update Profile\n                </Button>\n\n              </Form>           \n            \n      \n            </div>\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n\n  return { user: state.stock.user }\n}\nexport default withRouter(connect(mapStateToProps)(Profile));"]},"metadata":{},"sourceType":"module"}